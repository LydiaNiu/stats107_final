---
title: "13_data_visualization"
output: pdf_document
date: "2025-03-15"
---

```{r}
source("00_requirements.R")
source("01_func_DataCleaning.R")
source("03_func_dVisual_BoxPlot.R")
source("04_func_dVisual_BarChart.R")
df <- read.csv("cleaned_sleep_health_data.csv")
```

```{r}
# Box Plots for All 6 Tests
df <- to_factors(df)

plot_boxplot(df, "sleep_quality", "disorder", "Sleep Apnea", "Insomnia", "Figure7: Sleep Quality: Sleep Apnea vs. Insomnia")
plot_boxplot(df, "stress", "disorder", "Sleep Apnea", "Insomnia", "Figure8: Stress Level: Sleep Apnea vs. Insomnia")
plot_boxplot(df, "sleep_quality", "disorder", "None", "Insomnia", "Figure9: Sleep Quality: No Disorder vs. Insomnia")
plot_boxplot(df, "sleep_quality", "disorder", "None", "Sleep Apnea", "Figure10: Sleep Quality: No Disorder vs. Sleep Apnea")
plot_boxplot(df, "stress", "disorder", "None", "Insomnia", "Figure11: Stress Level: No Disorder vs. Insomnia")
plot_boxplot(df, "stress", "disorder", "None", "Sleep Apnea", "Figure12: Stress Level: No Disorder vs. Sleep Apnea")
```
```{r}
ggplot(df, aes(x = stress, y = sleep_quality, shape = disorder, color = disorder)) +
  geom_point(size = 3, alpha = 0.7) +  # Adjust point size & transparency
  geom_hline(yintercept = median(df$sleep_quality, na.rm = TRUE), linetype = "dashed", color = "black") +  # Median line for Quality
  geom_vline(xintercept = median(df$stress, na.rm = TRUE), linetype = "dashed", color = "black") +  # Median line for Stress
  labs(title = "Four-Quadrant Distribution of Stress & Sleep Quality",
       x = "Stress Level",
       y = "Sleep Quality",
       shape = "Disorder",
       color = "Disorder") +
  scale_shape_manual(values = c(16, 17, 15)) +  # Different shapes for each disorder
  theme_minimal()
```
